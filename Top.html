<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Space Runner</title>

<style>
body{margin:0;background:#000;color:#fff;font-family:Arial;display:flex;justify-content:center;align-items:center;height:100vh}
#game{position:relative;width:100%;max-width:600px;height:320px;background:#000;overflow:hidden;border:2px solid #333}

/* ðŸš€ UZAY GEMÄ°SÄ° */
#ship{
  position:absolute;
  width:0;height:0;
  border-left:10px solid transparent;
  border-right:10px solid transparent;
  border-bottom:18px solid #00ffd0;
  left:70px;
  z-index:3;
}

/* Alev efekti */
.thrust{
  filter:drop-shadow(0 6px 6px orange);
}

#ground{position:absolute;bottom:0;height:40px;width:100%;background:#111;z-index:2}

.star{position:absolute;background:#fff;border-radius:50%;opacity:.8}
.obstacle{position:absolute;z-index:3}
.vertical.low{background:#ff5555;width:18px;height:30px;bottom:40px}
.vertical.high{background:#ff8844;width:22px;height:70px;bottom:40px}
.top{background:#5599ff;width:22px;height:40px;top:40px}
.platform{background:#55ff88;height:10px;border-radius:4px}
.wide{background:#88ffcc;height:12px;border-radius:4px}

#score{position:absolute;top:10px;left:10px;font-size:18px;z-index:4}
#gameover{position:absolute;inset:0;background:rgba(0,0,0,.7);display:none;align-items:center;justify-content:center;font-size:24px;text-align:center;z-index:5}
</style>
</head>

<body>
<div id="game">
  <div id="score">Skor: 0</div>
  <div id="ship"></div>
  <div id="ground"></div>
  <div id="gameover">Oyun Bitti<br>Tekrar baÅŸlamak iÃ§in tÄ±kla</div>
</div>

<script>
const game=document.getElementById("game");
const ship=document.getElementById("ship");
const scoreEl=document.getElementById("score");
const gameOverEl=document.getElementById("gameover");

let y=80, vy=0;
const gravity=0.5, jumpPower=9;
let jumps=0;

let frame=0, score=0, running=true;
const obstacles=[], stars=[];
const baseSpeed=3;
let obstacleTimer=0;

/* ZÄ±plama (itki) */
function jump(){
  if(!running) return;
  if(jumps<2){
    vy=jumpPower;
    jumps++;
    ship.classList.add("thrust");
    setTimeout(()=>ship.classList.remove("thrust"),100);
  }
}
game.addEventListener("click",jump);
document.addEventListener("keydown",e=>{if(e.code==="Space")jump();});

function loop(){
  if(!running) return;
  frame++;

  /* HIZ EÄžRÄ°SÄ° */
  let timeFactor=frame/600;
  let speed=baseSpeed+Math.pow(timeFactor,1.5);

  /* YILDIZLAR */
  if(frame%10===0){
    const s=document.createElement("div");
    const size=Math.random()*2+1;
    s.className="star";
    s.style.width=size+"px";
    s.style.height=size+"px";
    s.style.top=Math.random()*250+"px";
    s.style.right="-5px";
    s.dataset.speed=Math.random()*1+0.3;
    game.appendChild(s);
    stars.push(s);
  }
  for(let i=stars.length-1;i>=0;i--){
    const s=stars[i];
    s.style.left=(s.offsetLeft-speed*s.dataset.speed)+"px";
    if(s.offsetLeft<-10){s.remove();stars.splice(i,1);}
  }

  /* FÄ°ZÄ°K */
  vy-=gravity;
  y+=vy;

  if(y<=40){
    y=40;
    vy=0;
    jumps=0;
  }

  ship.style.bottom=y+"px";

  /* ENGEL SIKLIÄžI ARTIÅžI */
  let spawnInterval=140-Math.min(70,Math.floor(frame/500));
  obstacleTimer++;

  if(obstacleTimer>=spawnInterval){
    obstacleTimer=0;
    let o=document.createElement("div");
    let type=Math.random();

    if(type<0.3)o.className="obstacle vertical low";
    else if(type<0.5)o.className="obstacle vertical high";
    else if(type<0.7)o.className="obstacle top";
    else if(type<0.85){
      o.className="obstacle platform";
      o.style.width="60px";
      o.style.bottom=(80+Math.random()*60)+"px";
    }else{
      o.className="obstacle wide";
      o.style.width="140px";
      o.style.bottom=(100+Math.random()*80)+"px";
    }

    o.style.right="-140px";
    game.appendChild(o);
    obstacles.push(o);
  }

  const shipRect=ship.getBoundingClientRect();

  for(let i=obstacles.length-1;i>=0;i--){
    const o=obstacles[i];
    o.style.left=(o.offsetLeft-speed)+"px";
    const rect=o.getBoundingClientRect();

    if(o.classList.contains("platform")||o.classList.contains("wide")){
      if(shipRect.right>rect.left &&
         shipRect.left<rect.right &&
         shipRect.bottom>=rect.top &&
         shipRect.bottom<=rect.top+6 &&
         vy<=0){
        y=rect.top-game.getBoundingClientRect().top-18;
        vy=0;
        jumps=0;
      }
    } else {
      if(shipRect.right>rect.left &&
         shipRect.left<rect.right &&
         shipRect.bottom>rect.top &&
         shipRect.top<rect.bottom){
        endGame();
      }
    }

    if(rect.right<0){
      o.remove();
      obstacles.splice(i,1);
      score++;
      scoreEl.textContent="Skor: "+score;
    }
  }

  requestAnimationFrame(loop);
}

function endGame(){
  running=false;
  gameOverEl.style.display="flex";
}
gameOverEl.onclick=()=>location.reload();

loop();
</script>
</body>
</html>
